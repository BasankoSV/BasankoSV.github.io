!function(e){"function"==typeof define&&define.amd?define("script",e):e()}((function(){"use strict";const e=document.querySelector("body"),t=document.querySelector("[data-open-modal]"),s=document.querySelectorAll("[data-close-window]"),o=document.querySelector(".modal"),c=document.querySelector(".overlay"),a=document.querySelector(".popup"),d=document.querySelector(".form"),n=d.querySelector(".name-error"),i=d.querySelector(".email-error"),l=d.querySelector("[data-button-submit]");function r(t){e.style.overflow="hidden",c.classList.remove("hide"),a.children[1].textContent=t,a.classList.remove("hide")}const u=/^([a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?([a-zA-Z]{1,})?)/,y=/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i;let m=!1,h=!1,f=!1;const v=()=>{e.style.overflow="auto",c.classList.add("hide"),!o.classList.contains("hide")&&o.classList.add("hide"),!a.classList.contains("hide")&&a.classList.add("hide")};t.addEventListener("click",(()=>{e.style.overflow="hidden",c.classList.remove("hide"),o.classList.remove("hide"),l.disabled=!0})),c.addEventListener("click",v),d.addEventListener("input",(function(e){const t=(e,t,s)=>{let o=e.target;t.test(o.value)?(s.style.display="none",m=!0):(s.style.display="block",m=!1),""===o.value&&(s.style.display="none")};switch(e.target.id){case"name":t(e,u,n),h=m;break;case"email":t(e,y,i),f=m}l.disabled=!h||!f})),d.addEventListener("submit",(e=>{e.preventDefault(),v(),async function(e){try{await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:new FormData(e)}),r("Your message successfully sent"),e.reset()}catch(e){r(e)}}(d)})),s.forEach((e=>e.addEventListener("click",v)))}));